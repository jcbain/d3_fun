<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>diversity</title>

    <!--styles.css-->
    <link rel="stylesheet" type="text/css" href="css/style.css"/>

    <!--D3 json-->
    <script src="https://d3js.org/d3.v4.min.js" charset="utf-8"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/topojson.v2.min.js"></script>
  </head>

  <body>

    <script type="text/javascript">



     //Width and height
      var w = 1000;
      var h = 1000;

      // var dataset = [5]

      var dataset = [ {r: 1, c: 1, col: "red"},
                      {r: 2, c: 1, col: "green"},
                      {r: 3, c: 1, col: "red"},
                      {r: 4, c: 1, col: "red"},
                      {r: 5, c: 1, col: "red"},
                      {r: 6, c: 1, col: "green"},
                      {r: 1, c: 2, col: "red"},
                      {r: 2, c: 2, col: "red"},
                      {r: 3, c: 2, col: "red"},
                      {r: 4, c: 2, col: "green"},
                      {r: 5, c: 2, col: "red"},
                      {r: 6, c: 2, col: "red"},
                      {r: 1, c: 3, col: "blue"},
                      {r: 2, c: 3, col: "green"},
                      {r: 3, c: 3, col: "red"},
                      {r: 4, c: 3, col: "red"},
                      {r: 5, c: 3, col: "red"},
                      {r: 6, c: 3, col: "green"},
                      {r: 1, c: 4, col: "red"},
                      {r: 2, c: 4, col: "red"},
                      {r: 3, c: 4, col: "red"},
                      {r: 4, c: 4, col: "green"},
                      {r: 5, c: 4, col: "red"},
                      {r: 6, c: 4, col: "red"},
                      {r: 1, c: 5, col: "orange"},
                      {r: 2, c: 5, col: "green"},
                      {r: 3, c: 5, col: "red"},
                      {r: 4, c: 5, col: "red"},
                      {r: 5, c: 5, col: "red"},
                      {r: 6, c: 5, col: "green"},
                      {r: 1, c: 6, col: "red"},
                      {r: 2, c: 6, col: "red"},
                      {r: 3, c: 6, col: "red"},
                      {r: 4, c: 6, col: "green"},
                      {r: 5, c: 6, col: "red"},
                      {r: 6, c: 6, col: "red"},
      ];

      // var dataset = d3.csv("sample.csv");

            //Create scales
      var scale = d3.scaleBand()
                     .domain(d3.range(dataset.length))
                     .rangeRound([0, w])
                     .paddingInner(0.05);

      //Create SVG element
      var svg = d3.select("body")
                  .append("svg")
                  .attr("width", w)
                  .attr("height", h);

            //Create bars
      svg.selectAll("rect")
         .data(dataset)
         .enter()
         .append("rect")
         .attr("x", function(d, i) {
            return scale(d.c);
         })
         .attr("y", function(d,i) {
            return scale(d.r);
         })
         .attr("width", scale.bandwidth())
         .attr("height", scale.bandwidth())
         .attr("fill", function(d) {
          return "#e2e2e2";
         });

      d3.selectAll("rect")
        .on("click", function(){
          var squares = svg.selectAll("rect")
                           .data(dataset);

          squares.enter()
                 .transition()
                 .duration(500)
                 .attr("fill", function(d) {
          return d.col;
         })

        });

            //On click, update with new data
      // d3.select("rect")
      //   .on("click", function() {

      //     //Add one new value to dataset
      //     var newNumber = 5; //New number = 5
      //     dataset.push(newNumber);                //Add new number to array

      //     //Update scale domains
      //     scale.domain(d3.range(dataset.length));  //Recalibrate the x scale domain, given the new length of dataset

      //     //Select…
      //     var bars = svg.selectAll("rect")      //Select all bars
      //                   .data(dataset);             //Re-bind data to existing bars, return the 'update' selection
      //                           //'bars' is now the update selection

      //     //Enter…
      //     bars.enter()                //References the enter selection (a subset of the update selection)
      //         .append("rect")             //Creates a new rect
      //         .attr("x", w)             //Sets the initial x position of the rect beyond the far right edge of the SVG
      //         .attr("y", function(d,i) {        //Sets the y value, based on the updated yScale
      //          return scale(i);
      //         })
      //         .attr("width", scale.bandwidth())    //Sets the width value, based on the updated xScale
      //         .attr("height", scale.bandwidth()) 
      //         .attr("fill", function(d) {       //Sets the fill value
      //          return "rgb(0, 0, " + Math.round(d * 10) + ")";
      //         })
      //         .merge(bars)              //Merges the enter selection with the update selection
      //         .transition()             //Initiate a transition on all elements in the update selection (all rects)
      //         .duration(500)
      //         .attr("x", function(d, i) {       //Set new x position, based on the updated xScale
      //           return scale(d.c);
      //         })
      //         .attr("y", function(d, i) {        //Set new y position, based on the updated yScale
      //           return scale(d.r);
      //         })
      //         .attr("width", scale.bandwidth())    //Set new width value, based on the updated xScale
      //         .attr("height", scale.bandwidth())
      //   });


    </script>
  </body>
</html>
